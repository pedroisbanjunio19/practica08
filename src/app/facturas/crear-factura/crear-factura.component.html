<div class="card l">
  <div class="titles-row">
      <h1>Crear Factura</h1>
      <button routerLink="/">Volver</button>
  </div>
  <hr>
  <form  [formGroup]="formFra" (ngSubmit)="onSubmit()">
    <div class="input-row">
      <label for="razonSocial">
        Razón social
        <span class="alert" *ngIf="formFra.get('razonSocial').value && formFra.get('razonSocial').hasError('minlength')">
          <i class="fas fa-times-circle"></i> El nombre debe tener más de 4 caracteres
        </span>
        <span class="alert" *ngIf="!formFra.get('razonSocial').value && formFra.get('razonSocial').touched">
          <i class="fas fa-times-circle"></i> Campo obligatorio
        </span>
        <span class="valid" *ngIf="formFra.get('razonSocial').valid">
          <i class="fas fa-check-circle"></i>
        </span>
      </label>
      <input type="text" id="razonSocial" formControlName="razonSocial">
    </div>
    <div class="input-row">
      <label for="numero">
        Número Factura
        <!-- <span *ngIf="formFra.get('cif').valid" class="valid">
          <i class="fas fa-check-circle"></i>
        </span> -->
      </label>
      <input type="text" id="numero" formControlName="numero" maxlength="9">
    </div>
    <div class="input-row">
      <label for="fecha">Fecha</label>
      <input type="date" id="fecha" formControlName="fecha" value="{{fechaActual | date:'yyyy-MM-dd'}}">
    </div>
    <div class="input-row">
      <label for="base">
        Base imponible
        <span class="alert" *ngIf="!formFra.get('base').value && formFra.get('base').touched">
          <i class="fas fa-times-circle"></i> Campo obligatorio
        </span>
      </label>
      <input type="number" id="base" formControlName="base">
    </div>
    <div class="input-row">
      <label for="tipo">% IVA</label>
      <select id="tipo" formControlName="tipo">
        <option value=0>0 %</option>
        <option value=0.04>4 %</option>
        <option value=0.1>10 %</option>
        <option value=0.21>21 %</option>
      </select>
    </div>
    <div class="input-row">
      <label for="importeIVA">Importe IVA</label>
      <input type="number" id="importeIVA" formControlName="importeIVA" value="{{formFra.value.importeIVA}}" readonly>
    </div>
    <div class="input-row">
      <label for="total">Total factura IVA incluido</label>
      <input type="number" id="total" formControlName="total" value="{{formFra.value.total}}" readonly>
    </div>
    <div class="input-row" formGroupName="cobro">
      <label for="vencimiento">Vencimiento</label>
      <select id="vencimiento" formControlName="vencimiento">
        <option value=90>90 días</option>
        <option value=180>180 días</option>
        <option value=270>270 días</option>
      </select>
    </div>
    <div formGroupName="cobro">
      <label for="formaPago">Forma de pago</label>
      <select id="formaPago" formControlName="formaPago">
        <option value="pagaré">Pagaré</option>
        <option value="confirming">Confirming</option>
      </select>
    </div>
    <div class="buttons-row">
      <button class="outline" routerLink="/">Cancelar</button>
      <button type="submit" [disabled]="formFra.invalid">Añadir Factura</button>
    </div>
  </form>
</div>
